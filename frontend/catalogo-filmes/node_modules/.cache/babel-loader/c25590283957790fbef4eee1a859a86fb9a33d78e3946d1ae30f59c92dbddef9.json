{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\gualv\\\\Desktop\\\\TRABALHOS - LINGUAGEM DE PROGRAMA\\xC7\\xC3O PARA INTERNET\\\\catalogo-filmes\\\\frontend\\\\catalogo-filmes\\\\src\\\\components\\\\EditarFilmeModal.jsx\",\n  _s = $RefreshSig$();\nimport { useState } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function EditarFilmeModal({\n  filme,\n  fechar,\n  atualizarFilme\n}) {\n  _s();\n  const [form, setForm] = useState({\n    titulo: filme.titulo,\n    sinopse: filme.sinopse,\n    ano: filme.ano,\n    duracao: filme.duracao,\n    generos: filme.generos.join(\", \"),\n    diretor: filme.diretor,\n    elenco: filme.elenco.join(\", \"),\n    nota: filme.nota,\n    capa: filme.capa,\n    trailer: filme.trailer,\n    destaque: filme.destaque\n  });\n  function atualizar(e) {\n    const {\n      name,\n      value,\n      type,\n      checked\n    } = e.target;\n    setForm({\n      ...form,\n      [name]: type === \"checkbox\" ? checked : value\n    });\n  }\n  function salvar(e) {\n    e.preventDefault();\n    const payload = {\n      ...form,\n      ano: Number(form.ano),\n      duracao: Number(form.duracao),\n      nota: Number(form.nota),\n      generos: form.generos.split(\",\").map(g => g.trim()),\n      elenco: form.elenco.split(\",\").map(g => g.trim())\n    };\n    fetch(`http://localhost:5000/filmes/${filme._id}`, {\n      method: \"PUT\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      },\n      body: JSON.stringify(payload)\n    }).then(resp => resp.json()).then(data => {\n      atualizarFilme(data); // atualiza a página\n      fechar(); // fecha o modal\n    }).catch(() => alert(\"Erro ao atualizar filme\"));\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"modal-overlay\",\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"modal\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Editar Filme\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        onSubmit: salvar,\n        className: \"form\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"titulo\",\n          value: form.titulo,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"sinopse\",\n          value: form.sinopse,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"ano\",\n          type: \"number\",\n          value: form.ano,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"duracao\",\n          type: \"number\",\n          value: form.duracao,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 58,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"generos\",\n          value: form.generos,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 60,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"diretor\",\n          value: form.diretor,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"elenco\",\n          value: form.elenco,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"nota\",\n          type: \"number\",\n          value: form.nota,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"capa\",\n          value: form.capa,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 65,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          name: \"trailer\",\n          value: form.trailer,\n          onChange: atualizar\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: [/*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"checkbox\",\n            name: \"destaque\",\n            checked: form.destaque,\n            onChange: atualizar\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), \"Destaque?\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 68,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            display: \"flex\",\n            gap: \"10px\",\n            marginTop: \"10px\"\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            className: \"btn\",\n            children: \"Salvar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 74,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"button\",\n            className: \"btn btn-danger\",\n            onClick: fechar,\n            children: \"Cancelar\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 49,\n    columnNumber: 5\n  }, this);\n}\n_s(EditarFilmeModal, \"J4bylVReec4nQwz4M18PSg2W98o=\");\n_c = EditarFilmeModal;\nvar _c;\n$RefreshReg$(_c, \"EditarFilmeModal\");","map":{"version":3,"names":["useState","jsxDEV","_jsxDEV","EditarFilmeModal","filme","fechar","atualizarFilme","_s","form","setForm","titulo","sinopse","ano","duracao","generos","join","diretor","elenco","nota","capa","trailer","destaque","atualizar","e","name","value","type","checked","target","salvar","preventDefault","payload","Number","split","map","g","trim","fetch","_id","method","headers","body","JSON","stringify","then","resp","json","data","catch","alert","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","style","display","gap","marginTop","onClick","_c","$RefreshReg$"],"sources":["C:/Users/gualv/Desktop/TRABALHOS - LINGUAGEM DE PROGRAMAÇÃO PARA INTERNET/catalogo-filmes/frontend/catalogo-filmes/src/components/EditarFilmeModal.jsx"],"sourcesContent":["import { useState } from \"react\";\r\n\r\nexport default function EditarFilmeModal({ filme, fechar, atualizarFilme }) {\r\n  const [form, setForm] = useState({\r\n    titulo: filme.titulo,\r\n    sinopse: filme.sinopse,\r\n    ano: filme.ano,\r\n    duracao: filme.duracao,\r\n    generos: filme.generos.join(\", \"),\r\n    diretor: filme.diretor,\r\n    elenco: filme.elenco.join(\", \"),\r\n    nota: filme.nota,\r\n    capa: filme.capa,\r\n    trailer: filme.trailer,\r\n    destaque: filme.destaque\r\n  });\r\n\r\n  function atualizar(e) {\r\n    const { name, value, type, checked } = e.target;\r\n    setForm({ ...form, [name]: type === \"checkbox\" ? checked : value });\r\n  }\r\n\r\n  function salvar(e) {\r\n    e.preventDefault();\r\n\r\n    const payload = {\r\n      ...form,\r\n      ano: Number(form.ano),\r\n      duracao: Number(form.duracao),\r\n      nota: Number(form.nota),\r\n      generos: form.generos.split(\",\").map(g => g.trim()),\r\n      elenco: form.elenco.split(\",\").map(g => g.trim())\r\n    };\r\n\r\n    fetch(`http://localhost:5000/filmes/${filme._id}`, {\r\n      method: \"PUT\",\r\n      headers: { \"Content-Type\": \"application/json\" },\r\n      body: JSON.stringify(payload)\r\n    })\r\n      .then(resp => resp.json())\r\n      .then(data => {\r\n        atualizarFilme(data); // atualiza a página\r\n        fechar(); // fecha o modal\r\n      })\r\n      .catch(() => alert(\"Erro ao atualizar filme\"));\r\n  }\r\n\r\n  return (\r\n    <div className=\"modal-overlay\">\r\n      <div className=\"modal\">\r\n        <h2>Editar Filme</h2>\r\n\r\n        <form onSubmit={salvar} className=\"form\">\r\n\r\n          <input name=\"titulo\" value={form.titulo} onChange={atualizar} />\r\n          <input name=\"sinopse\" value={form.sinopse} onChange={atualizar} />\r\n          <input name=\"ano\" type=\"number\" value={form.ano} onChange={atualizar} />\r\n          <input name=\"duracao\" type=\"number\" value={form.duracao} onChange={atualizar} />\r\n\r\n          <input name=\"generos\" value={form.generos} onChange={atualizar} />\r\n          <input name=\"diretor\" value={form.diretor} onChange={atualizar} />\r\n          <input name=\"elenco\" value={form.elenco} onChange={atualizar} />\r\n          <input name=\"nota\" type=\"number\" value={form.nota} onChange={atualizar} />\r\n\r\n          <input name=\"capa\" value={form.capa} onChange={atualizar} />\r\n          <input name=\"trailer\" value={form.trailer} onChange={atualizar} />\r\n\r\n          <label>\r\n            <input type=\"checkbox\" name=\"destaque\" checked={form.destaque} onChange={atualizar} />\r\n            Destaque?\r\n          </label>\r\n\r\n          <div style={{ display: \"flex\", gap: \"10px\", marginTop: \"10px\" }}>\r\n            <button className=\"btn\">Salvar</button>\r\n            <button type=\"button\" className=\"btn btn-danger\" onClick={fechar}>\r\n              Cancelar\r\n            </button>\r\n          </div>\r\n        </form>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}